const express = require('express');
const router = express.Router();
const aiService = require('../services/aiService');

const templates = [
    {
        title: 'ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½',
        text: 'âœ…Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾.ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½.'
    },
    {
        title: 'Ð¡Ð±ÐµÑ€Ð±Ð°Ð½Ðº',
        text: 'Ð¡Ð±ÐµÑ€Ð±Ð°Ð½Ðº:\n\nÐ¡ÑƒÐ¼Ð¼Ð°:\nÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð‘Ð•Ð— Ð¡ÐžÐžÐ‘Ð©Ð•ÐÐ˜Ð¯\n\nÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸ÑŽ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð° Ð¿Ñ€Ð¸ÑˆÐ»Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ñ‡ÐµÐº.'
    },
    {
        title: 'ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ',
        text: 'â³ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð° Ð¾Ñ‚ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»Ñ.'
    },
    {
        title: 'Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒÑÑ?',
        text: 'Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ, ÑÑ‚Ð¾ Ð²Ð°Ñˆ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€. Ð“Ð¾Ñ‚Ð¾Ð² Ð²Ñ‹ÐµÐ·Ð¶Ð°Ñ‚ÑŒ Ðº Ð’Ð°Ð¼. Ð£Ñ‚Ð¾Ñ‡Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ ÑƒÐ´Ð¾Ð±Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒÑÑ?'
    },
    {
        title: 'Ð‘ÑƒÐ´Ñƒ Ñ‡ÐµÑ€ÐµÐ· 10/20/30 Ð¼Ð¸Ð½ÑƒÑ‚',
        text: 'ðŸ“ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð±ÑƒÐ´ÐµÑ‚ Ð½Ð° ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ð¹ Ñ‚Ð¾Ñ‡ÐºÐµ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸ Ñ‡ÐµÑ€ÐµÐ· 10/20/30 Ð¼Ð¸Ð½ÑƒÑ‚.\n\nÐ‘ÑƒÐ´ÐµÐ¼ Ð¿Ñ€Ð¸Ð·Ð½Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹, ÐµÑÐ»Ð¸ Ð’Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ Ð² ÑÑ‚Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð² Ð¼ÐµÑÑ‚Ðµ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸ ðŸ¤\nÐ¡Ð¿Ð°ÑÐ¸Ð±Ð¾!'
    },
    {
        title: 'ÐÐ° Ð¼ÐµÑÑ‚Ðµ, Ð¾Ð¶Ð¸Ð´Ð°ÑŽ. ÐÐ¸ÐºÐ¸Ñ‚Ð°',
        text: 'Ð¯ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ, Ð¾Ð¶Ð¸Ð´Ð°ÑŽ Ð’Ð°Ñ. Ð‘ÐµÐ»Ñ‹Ð¹ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð», 1439.'
    },
    {
        title: 'Ð’Ð°Ñ Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚. ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€',
        text: 'Ð¯ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ, Ð¾Ð¶Ð¸Ð´Ð°ÑŽ Ð’Ð°Ñ. Ð§ÐµÑ€Ð½Ñ‹Ð¹ Ð¼ÐµÑ€ÑÐµÐ´ÐµÑ 8203 FPN'
    },
    {
        title: 'ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½ + Ð±ÐµÐ·Ð½Ð°Ð»',
        text: 'âœ…ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½ \nÐŸÐ¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸ÑŽ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð° Ð’Ð°Ð¼ Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½ Ñ‡ÐµÐº.\n\nÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¾Ð¶Ð¸Ð´Ð°Ð¹Ñ‚Ðµ â³'
    },
    {
        title: 'ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ!',
        text: 'ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð°. ðŸ™\n\nâš ï¸Ð’Ð°Ð¶Ð½Ð¾: \n\nÐÐ¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´Ð°Ð¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´, ÐµÑÐ»Ð¸ Ð’Ñ‹ Ð½Ðµ ÑƒÐ±ÐµÐ´Ð¸Ð»Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð° Ð·Ð°Ñ‡Ð¸ÑÐ»ÐµÐ½Ñ‹ Ð½Ð° Ð’Ð°Ñˆ ÑÑ‡ÐµÑ‚. Ð¢Ð°Ðº Ð’Ñ‹ ÑƒÐ±ÐµÑ€ÐµÐ¶ÐµÑ‚Ðµ ÑÐµÐ±Ñ Ð¾Ñ‚ Ð¿Ð¾Ñ‚ÐµÑ€Ð¸ Ð²Ð°ÑˆÐ¸Ñ… Ð°ÐºÑ‚Ð¸Ð²Ð¾Ð².'
    },
    {
        title: 'ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¸',
        text: 'âš ï¸ Ð’Ð°Ð¶Ð½Ð¾:\n\nðŸ§‘â€ðŸ’»Ð”Ð»Ñ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¸ Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ñ Ð²Ð°Ð¼Ð¸ ÑÐ²ÑÐ¶ÐµÑ‚ÑÑ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ðº Ð±Ð°Ð½ÐºÐ°.\n\nÐšÑ€Ð¾Ð¼Ðµ Ð¿Ñ€Ð¾Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ñƒ Ð²Ð°Ñ Ð¼Ð¾Ð³ÑƒÑ‚ ÑÐ¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ñ‚ÑŒ:\n\nÐ¦ÐµÐ»ÑŒ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð°? - Ð¯ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽ Ð´ÐµÐ½ÑŒÐ³Ð¸ Ð·Ð° Ð³Ñ€Ð°Ð½Ð¸Ñ†Ñƒ (Ð² Ð˜ÑÐ¿Ð°Ð½Ð¸ÑŽ) Ñ€Ð¾Ð´ÑÑ‚Ð²ÐµÐ½Ð½Ð¸ÐºÐ°Ð¼ Ð¸Ð»Ð¸ Ð´Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ ÑÐ²Ð¾Ð¸Ñ… Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÑÑ‚Ð² (Ð°Ñ€ÐµÐ½Ð´Ð°, Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸, Ð¸Ð¿Ð¾Ñ‚ÐµÐºÐ°, ÐºÑ€ÐµÐ´Ð¸Ñ‚Ñ‹). Ð’Ð²Ð¸Ð´Ñƒ ÑÐ°Ð½ÐºÑ†Ð¸Ð¹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð´ÐµÐ½ÑŒÐ³Ð¸ Ð¸Ð½Ñ‹Ð¼ ÑÐ¿Ð¾ÑÐ¾Ð±Ð¾Ð¼ Ð½ÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾.\n\nÐšÐ¾Ð¼Ñƒ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¸Ñ‚Ðµ Ð´ÐµÐ½ÑŒÐ³Ð¸? - ÐœÑ‹ Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»ÐµÐ¼ Ð»Ð¸Ñ‡Ð½Ð¾ Ð½Ðµ Ð·Ð½Ð°ÐºÐ¾Ð¼Ñ‹, Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ñ‹ Ð½Ð°Ð¼ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð¸Ð» Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ð±Ð¼ÐµÐ½Ð½Ð¸Ðº Ð² Ð˜ÑÐ¿Ð°Ð½Ð¸Ð¸ (Vega Exchange). ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸ÑŽ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑŽ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ñ€ÑƒÑ‡Ð½Ð¾, Ð±ÐµÐ· Ð¿Ñ€Ð¸Ð½ÑƒÐ¶Ð´ÐµÐ½Ð¸Ñ ÑÐ¾ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹ Ñ‚Ñ€ÐµÑ‚ÑŒÐ¸Ñ… Ð»Ð¸Ñ†, Ð¿Ñ€Ð¾ÑˆÑƒ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸ÑŽ.\n\nÐ’ ÑÐ»ÑƒÑ‡Ð°Ðµ Ð±ÐµÐ·Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð² Ð±Ð°Ð½ÐºÐ°, Ñ‚Ñ€ÐµÐ±ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ Ð²Ð¸Ð´ÐµÐ¾Ð·Ð²Ð¾Ð½ÐºÐ° Ð´Ð»Ñ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸!'
    },
    {
        title: 'ÐšÐ°Ðº Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÐºÑƒÑ€Ñ?',
        text: 'ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ "Ð—Ð°ÑÐ²ÐºÐ°" ÑÐ»ÐµÐ²Ð° Ð²Ð½Ð¸Ð·Ñƒ, Ð² Ð¾Ñ‚ÐºÑ€Ñ‹Ð²ÑˆÐµÐ¼ÑÑ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸:\n1) Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÑŽÑ‰ÑƒÑŽ Ð’Ð°Ñ Ð¿Ð°Ñ€Ñƒ Ð´Ð»Ñ Ð¾Ð±Ð¼ÐµÐ½Ð°.\n2) ÐÐ¸Ð¶Ðµ Ñ€ÑÐ´Ð¾Ð¼ Ñ ÐºÑƒÑ€ÑÐ¾Ð¼ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð¸ÐºÐ¾Ð½ÐºÑƒ [ i ].\n\nÐ’ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ðµ Ñ‡Ð°ÑÑ‹ ÐºÑƒÑ€Ñ Ð²Ð°Ð»ÑŽÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ÑÑ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 15 Ð¼Ð¸Ð½ÑƒÑ‚ Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚:\n- Ð¾Ñ‚ ÑÑƒÐ¼Ð¼Ñ‹ Ð¾Ð±Ð¼ÐµÐ½Ð° (100 ÐµÐ²Ñ€Ð¾ Ð¸ Ð²Ñ‹ÑˆÐµ).\n- Ð¾Ñ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ (ÐŸÑ€Ð¸ Ð²ÑÑ‚Ñ€ÐµÑ‡Ðµ Ð¸Ð»Ð¸ ÐžÐ¿Ð»Ð°Ñ‚Ð° ÑÐµÐ¹Ñ‡Ð°Ñ).\n- Ð¸ Ð¾Ñ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð²Ñ‹Ð´Ð°Ñ‡Ð¸ (Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ð¸Ð»Ð¸ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ð´ÐµÐ½ÑŒ).\n\nÐ”Ð°Ð»ÐµÐµ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¶ÐµÐ»Ð°ÐµÐ¼Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð¸ Ð¾Ñ„Ð¾Ñ€Ð¼Ð¸Ñ‚Ðµ Ð·Ð°ÑÐ²ÐºÑƒ Ð½Ð° Ð¾Ð±Ð¼ÐµÐ½ ðŸ˜‰.'
    },
    {
        title: 'ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ Ñ Ð·Ð°ÑÐ²ÐºÐ¾Ð¹',
        text: 'Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ! Ð­Ñ‚Ð¾ ÑÐ»ÑƒÐ¶Ð±Ð° Ð·Ð°Ð±Ð¾Ñ‚Ñ‹ Vega Exchange. ÐœÐ¾Ð³Ñƒ Ð’Ð°Ð¼ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ñ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸ÐµÐ¼ Ð·Ð°ÑÐ²ÐºÐ¸?ðŸ‘©â€ðŸ’»'
    },
    {
        title: 'ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€ ÑÐ²ÑÐ¶ÐµÑ‚ÑÑ Ð·Ð°Ð²Ñ‚Ñ€Ð°',
        text: 'ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð·Ð°Ð²Ñ‚Ñ€Ð° ÑÐ²ÑÐ¶ÐµÑ‚ÑÑ Ñ Ð’Ð°Ð¼Ð¸, ÐºÐ¾Ð³Ð´Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð²Ñ‹ÐµÐ·Ð¶Ð°Ñ‚ÑŒ Ð¿Ð¾ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ð¼Ñƒ Ð°Ð´Ñ€ÐµÑÑƒ. \n\nÐ”Ð¾ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸ ðŸ¤'
    },
    {
        title: 'ÐšÐ¾Ð´ Ð½Ð° Ð²Ñ‹Ð´Ð°Ñ‡Ñƒ',
        text: 'ðŸ”‘ ÐšÐ¾Ð´ Ð½Ð° Ð²Ñ‹Ð´Ð°Ñ‡Ñƒ ~~, ÑÐ¾Ð¾Ð±Ñ‰Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð° ÐµÐ³Ð¾ Ð¿Ñ€Ð¸ Ð²ÑÑ‚Ñ€ÐµÑ‡Ðµ Ñ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ð¾Ð¼.'
    },
    {
        title: 'ÐšÐ¾Ð¼Ð¸ÑÑÐ¸Ñ Ð¡Ð±ÐµÑ€Ð±Ð°Ð½Ðº',
        text: 'Ð¡Ð±ÐµÑ€ Ð²Ð·Ð¸Ð¼Ð°ÐµÑ‚ ÐºÐ¾Ð¼Ð¸ÑÑÐ¸ÑŽ Ð½Ð° Ð²Ð½ÑƒÑ‚Ñ€Ð¸Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ðµ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ñ‹ ÑÐ¾Ð³Ð»Ð°ÑÐ½Ð¾ Ð²Ð°ÑˆÐµÐ¼Ñƒ Ñ‚Ð°Ñ€Ð¸Ñ„Ð½Ð¾Ð¼Ñƒ Ð¿Ð»Ð°Ð½Ñƒ, Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ ÐºÐ¾Ð¼Ð¸ÑÑÐ¸Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ ÐºÑƒÐ¿Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÑƒ Ð² Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ Ð¡Ð±ÐµÑ€Ð° Ð¸Ð»Ð¸ Ð½Ð° Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¼ ÑÐ°Ð¹Ñ‚Ðµ.\n\nÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¢-Ð‘Ð°Ð½Ðº Ð¸ Ð Ð°Ð¹Ñ„Ñ„Ð°Ð¹Ð·ÐµÐ½ Ð‘Ð°Ð½Ðº  Ð½Ðµ Ð¸Ð¼ÐµÑŽÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… ÐºÐ¾Ð¼Ð¸ÑÑÐ¸Ð¹.'
    },
    {
        title: 'Ð’Ð°Ñ Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚ Ð Ð£Ð¡Ð›ÐÐ',
        text: 'Ð¯ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ, Ð¾Ð¶Ð¸Ð´Ð°ÑŽ Ð’Ð°Ñ. Ð§ÐµÑ€Ð½Ñ‹Ð¹ BMW 4197 MFX'
    },
    {
        title: 'ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ ÐºÑ€Ð¸Ð¿Ñ‚Ð¾ Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÐµÐ½',
        text: 'âœ…ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ ÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð²Ð°Ð»ÑŽÑ‚Ñ‹ Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÐµÐ½. \n\nÐ¥ÐµÑˆ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¸: '
    },
    {
        title: 'Ð”Ð»Ñ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ñ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ',
        text: 'Ð”Ð»Ñ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ñ Ð·Ð°ÑÐ²ÐºÐ¸, Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð³Ð¾Ð»ÑƒÐ±ÑƒÑŽ ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð² Ð»ÐµÐ²Ð¾Ð¼ Ð½Ð¸Ð¶Ð½ÐµÐ¼ ÑƒÐ³Ð»Ñƒ ÑÐºÑ€Ð°Ð½Ð° Ð¸ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰Ð¸Ðµ Ð´Ð»Ñ Ð¾Ð±Ð¼ÐµÐ½Ð° Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ ðŸ™‚.'
    },
    {
        title: 'Ð’Ñ€ÐµÐ¼Ñ Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ð±ÐµÐ·Ð½Ð°Ð» EUR',
        text: 'ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð° 2 Ñ‡Ð°ÑÐ° ðŸ•°ï¸.\n\nÐžÐ±Ñ‹Ñ‡Ð½Ð¾ ÑÑ‚Ð¾ Ð·Ð°Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ Ð¾Ñ‚ 15 Ð´Ð¾ 40 Ð¼Ð¸Ð½ÑƒÑ‚ ðŸ™‚.'
    },
    {
        title: 'Ð’ Ð½ÐµÑ€Ð°Ð±Ð¾Ñ‡ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ',
        text: 'Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ.\n\nðŸ’¶ ÐžÑ„Ð¾Ñ€Ð¼Ð¸Ñ‚Ðµ Ð·Ð°ÑÐ²ÐºÑƒ Ð½Ð° Ð¾Ð±Ð¼ÐµÐ½ Ð²Ð°Ð»ÑŽÑ‚Ñ‹ ÑÐµÐ¹Ñ‡Ð°Ñ, Ð¸ Ð¾Ð½Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð° Ð¿Ð¾ Ð³Ñ€Ð°Ñ„Ð¸ÐºÑƒ :\n\nðŸ‡ªðŸ‡¸ (GMT+2) ÐœÐ°Ð´Ñ€Ð¸Ð´, Ð˜ÑÐ¿Ð°Ð½Ð¸Ñ\n\nâ°ÐŸÐ½ - ÐŸÑ‚ 09:00 - 18:00\n    Ð¡Ð± - 09:00 -15:00\n    Ð’Ñ - Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ð¾Ð¹.'
    },
    {
        title: 'Ð’Ñ‹Ð´Ð°Ñ‡Ð° Ð² Ð‘Ð°Ñ€ÑÐµÐ»Ð¾Ð½Ðµ',
        text: 'Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ, Ð² Ð‘Ð°Ñ€ÑÐµÐ»Ð¾Ð½Ðµ Ð¼Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÐ¼ Ð¿Ð¾ Ð¿Ñ€ÐµÐ´Ð¾Ð¿Ð»Ð°Ñ‚Ðµ.\n\nÐŸÐ¾ÑÐ»Ðµ Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð° Ð½Ð°Ð·Ð½Ð°Ñ‡Ð°ÑŽÑ‚ÑÑ Ð²Ñ€ÐµÐ¼Ñ Ð¸ Ð¼ÐµÑÑ‚Ð¾ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸ Ñ Ð½Ð°ÑˆÐ¸Ð¼ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð¸Ñ‚ÐµÐ»ÐµÐ¼.\nÐ’Ñ‹Ð´Ð°Ñ‡Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ð¾ Ñ‚Ð¾ÐºÐµÐ½Ñƒ, Ð»Ð¸Ð±Ð¾ Ð¿Ð¾ ÐºÐ¾Ð´Ñƒ Ð½Ð° Ð²Ñ‹Ð´Ð°Ñ‡Ñƒ. ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ ÑÑƒÐ¼Ð¼Ð° Ð¾Ñ‚ 1000 EUR.'
    },
    {
        title: 'Ð£Ñ‚Ð¾Ñ‡Ð½Ð¸Ñ‚Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸',
        text: 'Ð£Ñ‚Ð¾Ñ‡Ð½Ð¸Ñ‚Ðµ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð² Ð·Ð°ÑÐ²ÐºÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸ [Ð’Ñ€ÐµÐ¼Ñ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸], Ñƒ Ð½Ð°Ñ ÐµÑÑ‚ÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ð¾Ð´ÑŠÐµÑ…Ð°Ñ‚ÑŒ Ð² ~~.\n\nÐ£Ð´Ð¾Ð±Ð½Ð¾ Ð’Ð°Ð¼ Ð±ÑƒÐ´ÐµÑ‚ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒÑÑ Ð² ÑÑ‚Ð¾ Ð²Ñ€ÐµÐ¼Ñ?'
    },
    {
        title: 'ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¾Ð²',
        text: 'âš ï¸ ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð±ÑƒÐ´ÑŒÑ‚Ðµ Ð²Ð½Ð¸Ð¼Ð°Ñ‚ÐµÐ»ÑŒÐ½ÐµÐµ Ñ ÑÑƒÐ¼Ð¼Ð¾Ð¹ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð°, Ñƒ Ð’Ð°Ñ Ð±ÑƒÐ´ÐµÑ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¾Ð² Ð¿Ð¾ Ñ€Ð°Ð·Ð½Ñ‹Ð¼ Ñ€ÐµÐºÐ²Ð¸Ð·Ð¸Ñ‚Ð°Ð¼.'
    },
    {
        title: 'ÐŸÐµÑ€ÐµÐ´Ð°Ð½Ð¾ Ð² Ð¡Ð‘',
        text: 'Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ. ðŸ§‘â€âœˆï¸Ð’Ð°ÑˆÐ° Ð·Ð°ÑÐ²ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð° Ð² Ð¾Ñ‚Ð´ÐµÐ» Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð° Ð¾Ð¶Ð¸Ð´Ð°Ð¹Ñ‚Ðµ.'
    },
    {
        title: 'Ð”Ð¾Ð¿ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ',
        text: 'Ð’Ð¾ Ð¸Ð·Ð±ÐµÐ¶Ð°Ð½Ð¸Ñ ÑÐ»ÑƒÑ‡Ð°ÐµÐ² Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð°, Ð´Ð»Ñ ÑÐ¾Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¾Ð±Ð¼ÐµÐ½Ð° Ð¿Ð¾Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ:\n\n1. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ñ€Ð¸ÑˆÐ»Ð¸Ñ‚Ðµ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð° ÑƒÐ´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€ÑÑŽÑ‰ÐµÐ³Ð¾ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ (Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ðµ ÑƒÐ´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€ÐµÐ½Ð¸Ðµ, Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚ Ð¸Ð»Ð¸ Ð·Ð°Ð³Ñ€Ð°Ð½Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚).\n2. ÐŸÑ€Ð¸ÑˆÐ»Ð¸Ñ‚Ðµ ÑÐµÐ»Ñ„Ð¸ Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð¼ Ð¸Ð· Ð²Ð¸Ð´ÐµÐ¾.\n3. ÐŸÑ€Ð¸ÑˆÐ»Ð¸Ñ‚Ðµ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð° Ð¿Ñ€Ð¸Ð²ÑÐ·Ð°Ð½Ð½Ñ‹Ð¹ Ðº Ð¡Ð‘ÐŸ.'
    }
];

router.get('/import-templates', async (req, res) => {
    // Basic protection
    if (req.query.secret !== 'temp_import_secret') {
        return res.status(403).json({ error: 'Forbidden' });
    }

    console.log('Starting template import...');
    const results = [];
    let count = 0;

    try {
        for (const t of templates) {
            const contentPayload = JSON.stringify({ text: t.text });

            try {
                // Check for existence
                const { content: existingItems } = await aiService.getWebsiteContent({
                    section: 'chat_templates',
                    search: t.title
                });

                const existing = existingItems.find(item => item.title === t.title);

                if (existing) {
                    await aiService.updateWebsiteContent(existing.id, {
                        content: contentPayload
                    });
                    results.push(`Updated: ${t.title}`);
                } else {
                    await aiService.createWebsiteContent({
                        section: 'chat_templates',
                        title: t.title,
                        content: contentPayload
                    });
                    results.push(`Created: ${t.title}`);
                }
                count++;
            } catch (e) {
                console.error(`Error processing ${t.title}:`, e);
                results.push(`Error: ${t.title} - ${e.message}`);
            }
        }

        res.json({ success: true, count, results });
    } catch (err) {
        console.error('Import failed:', err);
        res.status(500).json({ error: err.message });
    }
});

module.exports = router;
